<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="styleq.css">
</head>
<body>
    <section class="cards_bottom container">
        <div class="text_card_bottom">
          <h1>Fetured Items</h1>
          <p>Shop for items based on what we featured in this week</p>
        </div>
        <div class="cards_row">
          <div class="background_card">
            <div class="item-img" style="background-image: url(product1.jpg)" id="1">
                <div class="item-img__hover">
                  <button class="item-img__hover-btn" id="1">Add to Cart</button>
                </div>
            </div>
            <div class="text_card_description">
              <h2>ELLERY X M'O CAPSULE</h2>
              <p>
                Known for her sculptural takes on traditional tailoring, Australian arbiter of cool Kym Ellery teams up
                with Moda Operandi.
              </p>
              <h1>$52.00</h1>
            </div>
          </div>
          <div class="background_card">
            <div class="item-img" style="background-image: url(product2.png)" id="2">
                <div class="item-img__hover">
                  <button class="item-img__hover-btn" id="2">Add to Cart</button>
                </div>
            </div>
            <div class="text_card_description">
              <h2>ELLERY X M'O CAPSULE</h2>
              <p>
                Known for her sculptural takes on traditional tailoring, Australian arbiter of cool Kym Ellery teams up
                with Moda Operandi.
              </p>
              <h1>$52.00</h1>
            </div>
          </div>
          <div class="background_card">
            <div class="item-img" style="background-image: url(product3.png)">
                <div class="item-img__hover">
                  <button class="item-img__hover-btn">Add to Cart</button>
                </div>
            </div>
            <div class="text_card_description">
              <h2>ELLERY X M'O CAPSULE</h2>
              <p>
                Known for her sculptural takes on traditional tailoring, Australian arbiter of cool Kym Ellery teams up
                with Moda Operandi.
              </p>
              <h1>$52.00</h1>
            </div>
          </div>
          <div class="background_card">
            <div class="item-img" style="background-image: url(product4.png)">
                <div class="item-img__hover">
                  <button class="item-img__hover-btn">Add to Cart</button>
                </div>
            </div>
            <div class="text_card_description">
              <h2>ELLERY X M'O CAPSULE</h2>
              <p>
                Known for her sculptural takes on traditional tailoring, Australian arbiter of cool Kym Ellery teams up
                with Moda Operandi.
              </p>
              <h1>$52.00</h1>
            </div>
          </div>
          <div class="background_card">
            <div class="item-img" style="background-image: url(product5.png)">
                <div class="item-img__hover">
                  <button class="item-img__hover-btn">Add to Cart</button>
                </div>
            </div>
            <div class="text_card_description">
              <h2>ELLERY X M'O CAPSULE</h2>
              <p>
                Known for her sculptural takes on traditional tailoring, Australian arbiter of cool Kym Ellery teams up
                with Moda Operandi.
              </p>
              <h1>$52.00</h1>
            </div>
          </div>
          <div class="background_card">
            <div class="item-img" style="background-image: url(product6.png)">
                <div class="item-img__hover">
                  <button class="item-img__hover-btn">Add to Cart</button>
                </div>
            </div>
            <div class="text_card_description">
              <h2>ELLERY X M'O CAPSULE</h2>
              <p>
                Known for her sculptural takes on traditional tailoring, Australian arbiter of cool Kym Ellery teams up
                with Moda Operandi.
              </p>
              <h1>$52.00</h1>
            </div>
          </div>
        </div>
        <div class="cards_button">
          <button class="button_card">Browse All Product</button>
        </div>
      </section>
      <section class="black">
        <div class=" black_section container">
            <div class="black_section_div">
                <img class="black_section_img" src="form1.png" alt="car">
                <div >
                    <h2>Free Delivery</h2>
                    <p>Worldwide delivery on all. Authorit tively morph next-generation innov tion with extensive models.</p>
                </div>
            </div>
            <div class="black_section_div">
                <img class="black_section_img" src="form2.png" alt="percentage">
                <div >
                    <h2>Sales &amp;&nbsp;discounts</h2>
                    <p>Worldwide delivery on all. Authorit tively morph next-generation innov tion with extensive models.</p>
                </div>
            </div>
            <div class="black_section_div">
                <img class="black_section_img" src="form3.png" alt="crown">
                <div >
                    <h2>Quality assurance</h2>
                    <p>Worldwide delivery on all. Authorit tively morph next-generation innov tion with extensive models.</p>
                </div>
            </div>
        </div>
      </section>
      <section class="add"></section>
      <script src="sem13.js"></script>
      <script>
        

        const data = JSON.parse(productsCollection);
        const add = document.querySelector('.add');
        add.classList.add('container', 'add');
        const addH1 = document.createElement('h1');
        addH1.textContent = 'Cart Items';
        addH1.classList.add('addH1');
        addH1Div = document.createElement('div')
        addH1Div.appendChild(addH1);
        addH1Div.classList.add('addH1Div');
        sectionAdd = document.createElement('div')
        sectionAdd.classList.add('sectionAdd')

        // Кнопки, по которым будем кликать
        const buttons = document.querySelectorAll('.item-img__hover-btn');

        // Элементы с изображениями в HTML
        const imgHtml = document.querySelectorAll('.item-img');
        

        buttons.forEach(button => {
            button.addEventListener('click', function () {
                add.appendChild(addH1Div);
                const itemImg = button.closest('.item-img');
                const style = getComputedStyle(itemImg);
                const backgroundImage = style.backgroundImage;
                const imageUrl = backgroundImage.slice(backgroundImage.indexOf('"') + 1, backgroundImage.lastIndexOf('"'));
                const filename = imageUrl.split('/').pop();
             


                    // Проверяем, если это изображение есть в массиве
                    data.forEach(product => {
                        if (filename == product.image) {
                    
                            const img = document.createElement('img');
                            img.src = product.image; // Установите src на изображение продукта
                            img.classList.add(product.image); // Убедитесь, что класс уникален для этого изображения


                            const name = document.createElement('h1');
                            name.textContent = product.name;
                            name.classList.add('name');

                            const span = document.createElement('span');
                            span.textContent = `${product.currency}${product.price}`;
                            span.classList.add('span')
                            const price = document.createElement('p');
                            price.textContent = `Price: `;
                            price.appendChild(span);
                            price.classList.add('p1');

                            const color = document.createElement('p');
                            color.textContent = `Color: ${product.color}`;
                            color.classList.add('p2');

                            const size = document.createElement('p');
                            size.textContent = `Size: ${product.size}`;
                            size.classList.add('p3');

                            const input = document.createElement('input')
                            input.type = 'number';
                            input.value="1";
                            input.classList.add('input')
                            const quantity = document.createElement('p');
                            input.addEventListener('input', function() {
                        });
                            quantity.textContent = `Quantity:`;
                            quantity.appendChild(input)
                            quantity.classList.add('p4');


                            function checkIfH1DivShouldBeRemoved() {

                            if (add.children.length === 2) {
                                add.removeChild(addH1Div);
                            }
                        }
                            const cross = document.createElement('img')
                            cross.src = 'cross.png';
                            cross.classList.add('cross');
                            cross.addEventListener('click', function() {
                    mainDiv.remove(); // Удаляем родительский div (mainDiv)
                    checkIfH1DivShouldBeRemoved();
                });
                


                            const littleDiv = document.createElement('div');
                            littleDiv.classList.add('littleDiv')
                            littleDiv.appendChild(name);
                            littleDiv.appendChild(price);
                            littleDiv.appendChild(color);
                            littleDiv.appendChild(size);
                            littleDiv.appendChild(quantity);
                           
                            littleDiv.appendChild(cross);

                            const mainDiv = document.createElement('div');
                            mainDiv.classList.add('mainDiv');
                            mainDiv.appendChild(img);
                            mainDiv.appendChild(littleDiv);
                            sectionAdd.appendChild(mainDiv)

                            add.appendChild(sectionAdd);
        
                            
                        }
                });
            });
        });
// const cross = document.querySelectorAll('.cross');
// console.log(cross);

        
      </script>
        
</body>
</html>